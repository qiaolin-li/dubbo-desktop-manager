# i18n 国际化


## 插件方言包
插件可以注册自己的语言包来支持多语言

```js
/**
 * locale：地区代码
 * message: 插件语言包内容
 */
addPluginLocaleMessage(locale, message)

```
注册的key默认会加上 `pluginLocale.${pluginId}.`前缀，防止和系统语言包冲突，我们可以通过`xx.t`方法来获取

```js
/**
 * 获取方言
 */
t(key,  ....)

// 获取当前插件的方言
this.t(`pluginLocale.${pluginId}.${key}`);

// 主进程使用
app.t(`pluginLocale.${pluginId}.${key}`);

// Vue组件中使用
this.$t(`pluginLocale.${pluginId}.${key}`);
```

这种方式对于插件开发者体验很差，为了方便插件开发者使用，我们在许多对象上面都添加了 `pluginT` 方法，他自动帮你实现了拼接的 步骤，你无需关心实现细节。

主进程：`app` 对象中
渲染进程：

1. `appRendener`对象中
2. 插件使用的`Vue`组件中

```
/**
 * 获取当前语言的描述
 * key：
 */
pluginT(key,  ....) 

// 获取当前插件的方言
this.pluginT(key});

// 主进程使用
app.pluginT(key);

// Vue组件中使用
this.$pluginT(key);
```




## 系统方言包
给`Dubbo-Desktop-Manager`提供不同地区的语言包，例如中国台湾地区的中文繁体
参考插件：https://github.com/ddm-plugin/ddm-plugin-i18n-zh-tw

```javascript 

/**
 * locale：地区代码
 * message: 语言包内容
 */
addLocaleMessage(locale, message) 

```


如果插件需要获取系统的语言包，那么需要使用t方法
```js
/**
 * 获取方言
 */
t(key,  ....)

// 获取当前插件的方言
this.t(`pluginLocale.${pluginId}.${key}`);

// 主进程使用
app.t(`pluginLocale.${pluginId}.${key}`);

// Vue组件中使用
this.$t(`pluginLocale.${pluginId}.${key}`);
```



